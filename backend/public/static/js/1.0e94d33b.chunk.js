(this["webpackJsonprisk-solve"]=this["webpackJsonprisk-solve"]||[]).push([[1],{2131:function(e,t,a){"use strict";a.r(t),a.d(t,"Preview",(function(){return ce}));var n=a(36),l=a(5),c=a(24),r=a(0),i=a.n(r),m=a(163),s=a(72),u=a(120),o=a(476),d=a(251),b=a(378),E=a(201),p=a(290),f=a(1224),O=a(588),v=a(2068),j=a(2069),C=a(2070),N=a(2071),y=a(2072),h=a(2073),g=a(148),S=a(125),I=a(1952),A=a(18),x=a(117),k=a.n(x),D=a(1960),F=a(1961),L=a(1213),w=a(1953),T=a(155),P=a(1212),H=a(87),M=a(107),W=a(182),_=(a(1228),a(1963)),R=a(141),B=a.n(R),U=(a(430),a(102)),z=a(103),Y=a(39),G=a(192),J=(a(536),a(408)),K=a(183),q=a(185),V=a(241),Q=a(203),X=a(131),Z=a(167),$=[{label:s.a.DASHBOARD,link:"/"}],ee=function(e){var t=Object(S.a)(),a=e.handleOnSave,n=e.showForm,l=e.handleOnCancel,c=e.isEditable,r=e.setIsEditable;return i.a.createElement(u.a,{className:t.inBuildAppHeader},i.a.createElement(u.a,{className:t.inBuildAppHeaderSidebar},i.a.createElement(o.a,{style:{color:"white"},onClick:function(e){history.back()}},i.a.createElement(I.a,null)),i.a.createElement(d.a,{className:t.inBuildAppHeaderTitle,component:"div",variant:"h1"},"Compliance")),i.a.createElement(u.a,{className:t.inBuildAppHeaderContent},n&&i.a.createElement(u.a,{ml:"auto",display:"flex",alignItems:"center"},c?i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{ml:1},i.a.createElement(b.a,{variant:"contained",style:{backgroundColor:"green",color:"white"},size:"small",onClick:a},"Save"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{ml:1},i.a.createElement(b.a,{variant:"contained",style:{backgroundColor:"green",color:"white"},size:"small",onClick:function(){return r(!0)}},"Edit"))),i.a.createElement(u.a,{ml:1},i.a.createElement(b.a,{variant:"contained",style:{backgroundColor:"darkred",color:"white"},size:"small",onClick:l},"Close")))))},te=["1. Compliance Details","2. Finish"],ae=function(e){var t=Object(S.a)(),a=e.activeStep,n=e.handleNext,l=e.handlePrev,c=e.setActiveStep;return i.a.createElement(u.a,{className:t.inBuildAppSidebar},i.a.createElement(k.a,{className:t.perfectScrollbarContactSidebar},i.a.createElement(u.a,{display:"flex",justifyItems:"center",justifyContent:"center",mt:2},i.a.createElement(o.a,{color:"primary",onClick:l,disabled:0===a},i.a.createElement(D.a,null)),i.a.createElement(u.a,{m:1}),i.a.createElement(o.a,{color:"primary",onClick:n,disabled:a===te.length-1},i.a.createElement(F.a,null))),i.a.createElement(u.a,{mt:5},i.a.createElement(P.a,{component:"nav",className:t.appNav},i.a.createElement(T.a,{data:te,renderRow:function(e,n){return i.a.createElement(ne,{key:n,index:n,activeStep:a,item:e,classes:t,setActiveStep:c})}})))))},ne=function(e){var t=e.index,a=e.item,n=e.classes,l=e.activeStep,c=e.setActiveStep,m=Object(r.useRef)(null);return i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{ref:m,button:!0,title:a,onClick:function(e){return c(t)},className:Object(A.a)(n.appNavItem,n.appTaskNavItem,{active:t===l,completed:l>t})},i.a.createElement(w.a,{primary:a,className:"Cmt-nav-text"})))},le=function(e){var t,a,n,m,s=Object(Y.d)(),o=Object(Y.e)((function(e){return e.subsidiaries})),d=o.subsidiaries,v=o.currentSubsidiary,j=Object(Y.e)((function(e){return e.departments})).departments,C=Object(Y.e)((function(e){return e.sections})).sections,N=Object(Y.e)((function(e){return e.subSections})).subSections,y=Object(Y.e)((function(e){return e.utils})),h=y.currencies,g=y.caseTypes,S=e.classes,I=e.activeStep,A=e.handleNext,x=e.handleOnSave,D=(e.handleReset,e.isUpdate,e.handlePrev),F=e.complianceDetails,L=e.setComplianceDetails,w=Object(r.useState)(new Date),T=Object(c.a)(w,2),P=T[0],R=T[1],U=Object(r.useState)(["KES","USD","EUR"]),z=Object(c.a)(U,2),G=(z[0],z[1],{id:"",name:""});return Object(r.useEffect)((function(){L(Object(l.a)(Object(l.a)({},F),{},{dateofNextHearing:B()(P).format("YYYY-MM-DD")}))}),[P]),Object(r.useEffect)((function(){!function(e,t){var a=""!==e?parseFloat(e):0,n=""!==t?parseFloat(t):0;L(Object(l.a)(Object(l.a)({},F),{},{totalFees:a+n}))}(F.fees,F.fine)}),[F.fees,F.fine]),Object(r.useEffect)((function(){L(Object(l.a)(Object(l.a)({},F),{},{companyId:v,departmentsId:null,departmentsName:"",sectionsId:null,sectionsName:"",subSectionsId:null,subSectionsName:""}))}),[v]),Object(r.useEffect)((function(){s(Object(K.c)()),s(Object(q.c)()),s(Object(Q.c)()),s(Object(V.c)()),s(Object(Z.b)()),s(Object(Z.d)())}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{className:S.inBuildAppMainContent,minHeight:400},i.a.createElement(k.a,{className:S.perfectScrollbarContactCon},i.a.createElement(u.a,{p:5,display:"flex"},0===I&&i.a.createElement(u.a,{width:"100%"},i.a.createElement(H.a,null,i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(M.a,{fullWidth:!0,required:!0,variant:"outlined",label:"Case Title",value:F.title,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{title:e.target.value}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(M.a,{fullWidth:!0,multiline:!0,minRows:4,variant:"outlined",label:"Case Details",value:F.details,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{details:e.target.value}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(W.a,{fullWidth:!0,required:!0,data:g,label:"Case Type",valueKey:"name",variant:"outlined",labelKey:"name",value:F.caseType,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{caseType:e.target.value}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(M.a,{fullWidth:!0,variant:"outlined",label:"Judgement",multiline:!0,minRows:5,value:F.judgement,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{judgement:e.target.value}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(J.a,{fullWidth:!0,options:d,value:null!==(t=null===d||void 0===d?void 0:d.find((function(e){return e.id===F.companyId})))&&void 0!==t?t:G,getOptionLabel:function(e){return e.name},onChange:function(e,t){L(null!==t?Object(l.a)(Object(l.a)({},F),{},{companyId:t.id,companyName:t.name,departmentsId:null,departmentsName:"",sectionsId:null,sectionsName:"",subSectionsId:null,subSectionsName:""}):Object(l.a)(Object(l.a)({},F),{},{companyId:null,companyName:"",departmentsId:null,departmentsName:"",sectionsId:null,sectionsName:"",subSectionsId:null,subSectionsName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(p.a,Object.assign({required:!0,fullWidth:!0},e,{size:"small",variant:"outlined",label:"Subsidiary"}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(J.a,{fullWidth:!0,options:j.filter((function(e){return e.companyId==F.companyId})),value:null!==(a=j.find((function(e){return e.id===F.departmentsId})))&&void 0!==a?a:G,getOptionLabel:function(e){return e.name},onChange:function(e,t){L(null!==t?Object(l.a)(Object(l.a)({},F),{},{departmentsId:t.id,departmentsName:t.name,sectionsId:null,sectionsName:"",subSectionsId:null,subSectionsName:""}):Object(l.a)(Object(l.a)({},F),{},{departmentsId:null,departmentsName:"",sectionsId:null,sectionsName:"",subSectionsId:null,subSectionsName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(p.a,Object.assign({helperText:null===F.companyId?"Select Subsidiary":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Department"}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(J.a,{fullWidth:!0,options:C.filter((function(e){return e.departmentsId==F.departmentsId})),value:null!==(n=C.find((function(e){return e.id===F.sectionsId})))&&void 0!==n?n:G,getOptionLabel:function(e){return e.name},onChange:function(e,t){L(null!==t?Object(l.a)(Object(l.a)({},F),{},{sectionsId:t.id,sectionsName:t.name,subSectionsId:null,subSectionsName:""}):Object(l.a)(Object(l.a)({},F),{},{sectionsId:null,sectionsName:"",subSectionsId:null,subSectionsName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(p.a,Object.assign({helperText:null===F.departmentsId?"Select Department":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Section"}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(J.a,{fullWidth:!0,options:N.filter((function(e){return e.sectionsId==F.sectionsId})),value:null!==(m=N.find((function(e){return e.id===F.sectionsId})))&&void 0!==m?m:G,getOptionLabel:function(e){return e.name},onChange:function(e,t){L(null!==t?Object(l.a)(Object(l.a)({},F),{},{subSectionsId:t.id,subSectionsName:t.name}):Object(l.a)(Object(l.a)({},F),{},{subSectionsId:null,subSectionsName:""}))},renderOption:function(e,t){t.selected;return i.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return i.a.createElement(p.a,Object.assign({helperText:null===F.sectionsId?"Select Section":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Sub-Section"}))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(p.a,{fullWidth:!0,label:"Fees",type:"number",variant:"outlined",value:F.fees,onChange:function(e){L(Object(l.a)(Object(l.a)({},F),{},{fees:e.target.value}))},InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},i.a.createElement(p.a,{select:!0,style:{width:"90px"},label:"",value:F.penaltyCurrency,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{penaltyCurrency:e.target.value}))},InputProps:{disableUnderline:!0}},h.map((function(e){return i.a.createElement(O.a,{key:e.id,value:e.name},e.name)}))))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(p.a,{fullWidth:!0,label:"Fines",type:"number",variant:"outlined",value:F.fine,onChange:function(e){L(Object(l.a)(Object(l.a)({},F),{},{fine:e.target.value}))},InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},i.a.createElement(p.a,{select:!0,style:{width:"90px"},label:"",value:F.penaltyCurrency,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{penaltyCurrency:e.target.value}))},InputProps:{disableUnderline:!0}},h.map((function(e){return i.a.createElement(O.a,{key:e,value:e.name},e.name)}))))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(p.a,{fullWidth:!0,label:"Total Fees & Fines",type:"number",variant:"outlined",value:F.totalFees,onChange:function(e){L(Object(l.a)(Object(l.a)({},F),{},{totalFees:e.target.value}))},disabled:!0,InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},i.a.createElement(p.a,{select:!0,disabled:!0,style:{width:"90px"},label:"",value:F.penaltyCurrency,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{penaltyCurrency:e.target.value}))},InputProps:{disableUnderline:!0}},h.map((function(e){return i.a.createElement(O.a,{key:e,value:e.name},e.name)}))))}})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(_.a,{autoOk:!0,fullWidth:!0,clearable:!0,inputVariant:"outlined",label:"Date of Next Hearing",onChange:function(e){R(e)},value:""!==F.dateofNextHearing?F.dateofNextHearing:P,format:"DD-MM-yyyy",animateYearScrolling:!0})),i.a.createElement(E.a,{item:!0,md:12,xs:12},i.a.createElement(M.a,{fullWidth:!0,variant:"outlined",label:"Management Comments",multiline:!0,minRows:5,value:F.managementComments,onChange:function(e){return L(Object(l.a)(Object(l.a)({},F),{},{managementComments:e.target.value}))}})))),1===I&&i.a.createElement(u.a,{width:"100%"},i.a.createElement(ce,{complianceDetails:F}))),i.a.createElement(u.a,{display:"flex",m:3,pb:3},I===te.length-1&&i.a.createElement(b.a,{onClick:D,variant:"contained",color:"primary",size:"small"},"Prev"),i.a.createElement(u.a,{flex:"1 0 auto"}),I!==te.length-1&&i.a.createElement(b.a,{onClick:A,variant:"contained",color:"primary",size:"small"},"Continue"),I===te.length-1&&i.a.createElement(b.a,{onClick:x,variant:"contained",color:"primary",size:"small"},"Save")))))},ce=function(e){var t,a=e.complianceDetails,n=e.isView,l=Object(S.a)();return i.a.createElement(v.a,{className:l.inBuildAppCard},i.a.createElement(j.a,{size:"small","aria-label":"a dense table"},!n&&i.a.createElement(C.a,{className:l.tableHeader},i.a.createElement(N.a,null,i.a.createElement(y.a,{className:l.tableHeaderCell},"Field Name"),i.a.createElement(y.a,{className:l.tableHeaderCell},"Input Value"))),i.a.createElement(h.a,null,i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Case Title")),i.a.createElement(y.a,null,""!==a.title?a.title:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Case Details")),i.a.createElement(y.a,null,""!==a.details?(t=a.details,i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})):"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Case Type")),i.a.createElement(y.a,null,""!==a.caseType?a.caseType:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Judgement")),i.a.createElement(y.a,null,""!==a.judgement?a.judgement:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Company")),i.a.createElement(y.a,null,""!==a.companyName?a.companyName:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Department")),i.a.createElement(y.a,null,""!==a.departmentsName?a.departmentsName:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Section")),i.a.createElement(y.a,null,""!==a.sectionsName?a.sectionsName:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Sub Section")),i.a.createElement(y.a,null,""!==a.subSectionsName?a.subSectionsName:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Fees in ",a.penaltyCurrency)),i.a.createElement(y.a,null,""!==a.fees?a.fees:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Fines in ",a.penaltyCurrency)),i.a.createElement(y.a,null,""!==a.fine?a.fine:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Total Fees & Fines in ",a.penaltyCurrency)),i.a.createElement(y.a,null,""!==a.totalFees?a.totalFees:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Date of Next Hearing")),i.a.createElement(y.a,null,""!==a.dateofNextHearing?a.dateofNextHearing:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Management Comments")),i.a.createElement(y.a,null,""!==a.managementComments?a.managementComments:"Not Set")),i.a.createElement(N.a,null,i.a.createElement(y.a,null,i.a.createElement("b",null,"Case File Attachment")),i.a.createElement(y.a,null,""!==a.caseFileAttachment?a.caseFileAttachment:"Not Uploaded")))))},re=function(e){var t=e.classes,a=e.handleReset,n=e.isUpdate;return i.a.createElement(u.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},i.a.createElement(X.a,{src:"/images/ic_ok.svg",style:{width:"50px"}}),i.a.createElement("p",{className:t.instructions,style:{marginTop:"10px"}},i.a.createElement("b",null,"Compliance was ",n?"updated":"created"," successfully!")),i.a.createElement(u.a,{mt:10},i.a.createElement(z.a,{to:"/compliance/legal-compliance"},i.a.createElement(b.a,{color:"primary",variant:"contained"},"Back to Compliance Dashboard")),!n&&i.a.createElement(b.a,{onClick:a,className:t.button},"Create New Compliance")))};t.default=function(){var e=Object(S.a)(),t=Object(Y.d)(),a=Object(r.useState)(0),o=Object(c.a)(a,2),d=o[0],b=o[1],E={title:"",details:"",judgement:"",companyId:"",departmentsId:null,departmentsName:null,sectionsId:null,sectionsName:null,subSectionsId:null,subSectionsName:null,fine:0,fees:0,totalFees:0,penaltyCurrency:"KES",managementComments:"",active:!0,dateofNextHearing:B()(new Date).format("YYYY-MM-DD"),caseType:"",caseFileAttachment:""},p=Object(r.useState)(E),f=Object(c.a)(p,2),O=f[0],v=f[1],j=Object(r.useState)($),C=Object(c.a)(j,2),N=C[0],y=C[1],h=Object(r.useState)(!1),I=Object(c.a)(h,2),x=I[0],k=I[1],D=Object(U.h)(),F=function(){b(d+1)},L=function(){b(d-1)},w=function(){v(E),k(!1),b(0)};return Object(r.useEffect)((function(){void 0!==D.state?(y([].concat(Object(n.a)(N),[{label:s.a.LEGAL_COMPLIANCE.name,link:"/compliance/".concat(s.a.LEGAL_COMPLIANCE.url)},{label:s.a.UPDATE_LEGAL_COMPLIANCE,isActive:!0}])),v(D.state),k(!0)):(y([].concat(Object(n.a)(N),[{label:s.a.LEGAL_COMPLIANCE.name,link:"/compliance/".concat(s.a.LEGAL_COMPLIANCE.url)},{label:s.a.CREATE_LEGAL_COMPLIANCE,isActive:!0}])),v(E),k(!1))}),[D]),i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{heading:x?s.a.UPDATE_LEGAL_COMPLIANCE:s.a.CREATE_LEGAL_COMPLIANCE,breadcrumbs:N},i.a.createElement(u.a,{className:e.inBuildAppCard},i.a.createElement(ee,null),d===te.length?i.a.createElement(u.a,{className:Object(A.a)(e.inBuildAppContainer),minHeight:400},i.a.createElement(u.a,{width:"100%",m:5},i.a.createElement(re,{classes:e,handleReset:w,isUpdate:x}))):i.a.createElement(u.a,{className:Object(A.a)(e.inBuildAppContainer)},i.a.createElement(ae,{activeStep:d,handleNext:F,handlePrev:L,setActiveStep:b}),i.a.createElement(le,{classes:e,isUpdate:x,activeStep:d,handleNext:F,handlePrev:L,handleReset:w,complianceDetails:O,setComplianceDetails:v,handleOnSave:function(e){e.preventDefault();var a=Object(l.a)(Object(l.a)({},O),{},{fees:parseFloat(O.fees),fine:parseFloat(O.fine)});t(x?Object(G.u)(a,(function(){return F()})):Object(G.b)(a,(function(){return F()})))}})))),i.a.createElement(g.NotificationContainer,null))}}}]);
//# sourceMappingURL=1.0e94d33b.chunk.js.map