(this["webpackJsonprisk-solve"]=this["webpackJsonprisk-solve"]||[]).push([[14],{2156:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(163),i=a(72),o=a(120),c=a(24),m=a(17),s=a(87),d=a(407),u=a(201),p=a(2078),g=a(2053),E=a(2054),b=a(2055),h=a(378),f=a(92),y=a(82),w=a(36),F=a(402),v=a(131),C=a(972),x=a(385),k=a(182),S=(a(476),a(251)),R=a(2052),O=a(1226),j=a(588),I=a(206),H=a(475),W=(a(2140),a(386)),A=a(984),D=a(983),N=a(2159),B=a(359),z=a(101),T=a.n(z),L=a(18),M=["data","department"],K=T()((function(e){return{cardContentRoot:{position:"relative"},titleRoot:{letterSpacing:.5,marginBottom:20},listItemRoot:{padding:0,"& .root":{marginBottom:1},"& .Cmt-label-container":{fontSize:12,color:e.palette.text.secondary}},subTitleRoot:{fontSize:12,color:e.palette.text.secondary},lossCategoryRoot:{color:e.palette.text.primary,"& text":{fill:e.palette.text.primary}},countryCellItem:{cursor:"pointer",padding:10,fontSize:12,transition:"all .2s",borderRadius:4,"&:hover, &.active":{backgroundColor:Object(f.a)(e.palette.common.dark,.04),"& .text-hover":{color:e.palette.text.primary}},"&:hover":{transform:"translateY(-4px)",boxShadow:"0 3px 10px 0 ".concat(Object(f.a)(e.palette.common.dark,.2))}}}})),P=function(e){var t=e.data,a=e.department,l=Object(y.a)(e,M),r=K();return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{container:!0,spacing:1},0!==t.length&&t.map((function(e,t){return n.a.createElement(u.a,{item:!0,xs:12,md:3,key:t},n.a.createElement(o.a,Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",className:Object(L.a)(r.countryCellItem,{active:a.name===e.name})},l),n.a.createElement(o.a,{component:"span",ml:3,height:10,width:10,bgcolor:B.a[4],borderRadius:"50%"}),n.a.createElement(o.a,null,n.a.createElement(o.a,{className:"text-hover",px:1},n.a.createElement("b",null,e.slug)," - ",e.name)),n.a.createElement(o.a,{px:1,display:"flex",alignItems:"center"},n.a.createElement(o.a,{mx:1},e.risks))))}))))},G=function(e){var t=Object(I.a)(),a=e.data,l=e.color,r=void 0===l?B.a[4]:l,i=e.handleOnMapClick,c=function(e){e.root;var a=e.depth,l=e.x,r=e.y,i=e.width,o=e.height,c=(e.index,e.fill),m=(e.colors,e.risks),s=(e.name,e.slug);return n.a.createElement("g",null,n.a.createElement("rect",{x:l,y:r,width:i,height:o,style:{fill:a<2?c:"none",stroke:"#fff",strokeWidth:2/(a+1e-10),strokeOpacity:1/(a+1e-10),cursor:"pointer"}}),1===a?n.a.createElement("text",{x:l+i/2,y:r+o/2+7,textAnchor:"middle",fontFamily:t.typography.fontFamily,letterSpacing:2,fontWeight:t.typography.fontWeightLight,fill:Object(f.a)(t.palette.common.white,.74),fontSize:14},s):null,1===a?n.a.createElement("text",{x:l+i/2,y:r+o/2+27,fontFamily:t.typography.fontFamily,letterSpacing:2,fontWeight:t.typography.fontWeightLight,textAnchor:"middle",fill:Object(f.a)(t.palette.common.white,.74),fontSize:12},m):null)};return n.a.createElement(F.f,{width:"100%",height:300},n.a.createElement(F.j,{margin:{top:0,right:0,left:0,bottom:0},data:a,dataKey:"risks",ratio:4/3,stroke:"#fff",onClick:function(e){return function(e){i(e)}(e)},fill:"url(#color1)",content:n.a.createElement(c,{colors:B.a}),isAnimationActive:!0},n.a.createElement(F.i,{content:function(e){var t=e.active,a=e.payload;e.label;return t&&a&&a.length?n.a.createElement(o.a,{component:H.a,boxShadow:2,padding:2},n.a.createElement(S.a,{variant:"h5",style:{color:a[0].payload.fill}},a[0].payload.name),n.a.createElement(S.a,{variant:"caption"},"Risks : ".concat(a[0].value))):null}}),n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"color1",x1:"0",y1:"0",x2:"1",y2:"0",gradientTransform:"rotate(90)"},n.a.createElement("stop",{offset:"20%",stopColor:r,stopOpacity:1}),n.a.createElement("stop",{offset:"100%",stopColor:function(e){var t=B.b.find((function(t){return t[0]===e}));return void 0!==t?t[1]:null}(r),stopOpacity:1})))))},V=function(e){var t=e.data,a=e.currentFilter,r=e.setCurrentFilter,i=e.classes,m=e.filters,d=e.department,p=e.setDepartment,g=e.setOpenDialog,E=Object(l.useState)([{name:a,action:"",level:0}]),b=Object(c.a)(E,2),h=b[0],f=b[1],y=function(e){r(e.target.value),F(e.target.value)},F=function(e){v(0,e)},v=function(e,t){var a=Object(w.a)(h);a.splice(e+1,a.length),a[0].name=t,f(a),p({id:"",name:""})};return n.a.createElement(D.a,null,n.a.createElement(W.a,{title:"Number of Risks  by ".concat(a),subTitle:""},n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{component:"span",mr:3,height:10,width:10,bgcolor:B.a[4],borderRadius:"50%"}),n.a.createElement(O.a,{className:i.selectBoxRoot,labelId:"simple-select-label",id:"simple",value:a,onChange:y},m.map((function(e,t){return n.a.createElement(j.a,{key:t,value:e.label},e.label)}))))),n.a.createElement(A.a,{className:i.cardContentRoot},n.a.createElement(o.a,{mb:2},n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{"aria-label":"breadcrumb",separator:">",className:"bread-crumbs"},h.map((function(e,t){return h.length-1===t?n.a.createElement(S.a,{underline:"hover",variant:"h6",key:t},e.name):n.a.createElement(R.a,{underline:"hover",color:"primary",variant:"h6",href:"",onClick:function(e){e.preventDefault(),v(t,a)},key:t},e.name)}))))),n.a.createElement(s.a,null,n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(G,{data:t,handleOnMapClick:function(e){if(""===d.id&&a===m[0].label){if(p({id:e.id,name:e.name}),h.length<2){var t=Object(w.a)(h);t.push({name:e.name,level:h.length+1,action:""}),f(t)}}else g(!0)}})),n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(S.a,{gutterBottom:!0,variant:"h4"},"KEY"),n.a.createElement(P,{data:t,department:d})))))},Y=a(27),_=a(1227),J=a(181),q=function(e){var t=e.risks,a=function(e){return e.displayValue.map((function(e,t){return n.a.createElement("li",{key:t},e)}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(J.DataGrid,{id:"risksView",columnAutoWidth:!0,dataSource:t,showColumnLines:!0,showRowLines:!0,showBorders:!0,allowColumnResizing:!0,rowAlternationEnabled:!0},n.a.createElement(Y.FilterRow,{visible:!0}),n.a.createElement(Y.StateStoring,{enabled:!1,type:"localStorage",storageKey:"risksView"}),n.a.createElement(Y.FilterPanel,{visible:!0}),n.a.createElement(Y.SearchPanel,{visible:!0}),n.a.createElement(Y.ColumnChooser,{enabled:!0,mode:"select"}),n.a.createElement(Y.HeaderFilter,{visible:!0,allowSearch:!0}),n.a.createElement(Y.Column,{dataField:"id",caption:"Risk ID",key:"id",visible:!0}),n.a.createElement(Y.Column,{dataField:"riskTitle",width:150,caption:"Risk Title",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"riskEvent",width:200,caption:"Risk Event",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"status",minWidth:100,caption:"Status",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,allowHiding:!0,cellRender:function(e){var t,a=e.displayValue;return"Approved"===a?t="green":"Pending"===a?t="orange":"Rejected"===a&&(t="red"),n.a.createElement(_.a,{style:{color:t,borderColor:t},size:"small",variant:"outlined",label:a})}}),n.a.createElement(Y.Column,{dataField:"riskCategory",minWidth:100,caption:"Risk Category",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"department",minWidth:100,caption:"Department",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"section",minWidth:100,caption:"Section",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"subSection",minWidth:100,caption:"Sub-Section",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"rootCauses",minWidth:100,caption:"Root Causes",allowHeaderFiltering:!0,allowSearch:!0,cellRender:a,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"riskImpact",minWidth:100,caption:"Risk Impact",cellRender:a}),n.a.createElement(Y.Column,{dataField:"riskImpactAmount",minWidth:100,caption:"Risk Impact Amount",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"probability",minWidth:100,caption:"Probability",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"severity",minWidth:100,caption:"Severity",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"residualRisk",minWidth:100,caption:"Residual Risk",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"riskControlCat",minWidth:100,caption:"Risk Control Category",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"controlActions",minWidth:100,caption:"Mitigations/Control",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1,cellRender:a}),n.a.createElement(Y.Column,{dataField:"lossType",minWidth:100,caption:"Loss Type",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"riskOwner",minWidth:100,caption:"Risk Owner",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"keyIndicator",minWidth:100,caption:"Risk Indicator",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Column,{dataField:"riskAppetite",minWidth:100,caption:"Risk Appetite",allowHeaderFiltering:!0,allowSearch:!0,allowFiltering:!1}),n.a.createElement(Y.Scrolling,{rowRenderingMode:"virtual"}),n.a.createElement(Y.Paging,{defaultPageSize:20}),n.a.createElement(Y.Pager,{visible:!0,displayMode:!0,showPageSizeSelector:!1,showInfo:!0,showNavigationButtons:!0})))},Q=a(229),U=a(2141),X=a.n(U),Z=a(2129),$=a.n(Z),ee=["data"];a(2142)($.a),a(2143)($.a);var te=T()((function(e){return{cardContentRoot:{position:"relative"},titleRoot:{letterSpacing:.5,marginBottom:20},listItemRoot:{padding:0,"& .root":{marginBottom:1},"& .Cmt-label-container":{fontSize:12,color:e.palette.text.secondary}},subTitleRoot:{fontSize:12,color:e.palette.text.secondary},lossCategoryRoot:{color:e.palette.text.primary,"& text":{fill:e.palette.text.primary}},countryCellItem:{cursor:"pointer",padding:10,fontSize:12,transition:"all .2s",borderRadius:4,"&:hover, &.active":{backgroundColor:Object(f.a)(e.palette.common.dark,.04),"& .text-hover":{color:e.palette.text.primary}},"&:hover":{transform:"translateY(-4px)",boxShadow:"0 3px 10px 0 ".concat(Object(f.a)(e.palette.common.dark,.2))}}}})),ae=function(e){var t=e.data,a=Object(y.a)(e,ee),l=te();return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{container:!0,spacing:1},void 0!==t&&0!==t.length&&t[0].data.map((function(e,t){return n.a.createElement(u.a,{item:!0,xs:12,md:3,key:t},n.a.createElement(o.a,Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",className:Object(L.a)(l.countryCellItem,{})},a),n.a.createElement(o.a,{component:"span",ml:3,height:10,width:10,bgcolor:e.color,borderRadius:"50%"}),n.a.createElement(o.a,null,n.a.createElement(o.a,{className:"text-hover",px:1},n.a.createElement("b",null,e.slug)," - ",e.name)),n.a.createElement(o.a,{px:1,display:"flex",alignItems:"center"},n.a.createElement(o.a,{mx:1},e.risks))))}))))},le=function(e){var t={chart:{type:"packedbubble",height:400,styleMode:!1},exporting:{enabled:!1},credits:{enabled:!1},title:{text:""},tooltip:{useHTML:!0,pointFormat:"<b>{point.name}:</b> {point.value}"},plotOptions:{packedbubble:{minSize:"50%",maxSize:"120%",layoutAlgorithm:{gravitationalConstant:.05,splitSeries:!0,seriesInteraction:!1,dragBetweenSeries:!1,parentNodeLimit:!0},dataLabels:{enabled:!0,format:"{point.slug}",filter:{property:"y",operator:">",value:0},style:{color:"black",textOutline:"none",fontWeight:"normal"}}}},series:e.data};return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{highcharts:$.a,options:t}))},ne=function(e){var t=e.classes,a=e.currentFilter,l=void 0===a?"Control Categories":a,r=e.data,i=e.setCurrentFilter,c=e.filters,m=function(e){i(e.target.value)};return n.a.createElement(D.a,null,n.a.createElement(W.a,{title:"Risk Category Report",subTitle:"Number of Risks based on ".concat(l)},n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{component:"span",mr:3,height:10,width:10,bgcolor:B.a[4],borderRadius:"50%"}),n.a.createElement(O.a,{className:t.selectBoxRoot,labelId:"simple-select-label",id:"simple",value:l,onChange:m},c.map((function(e,t){return n.a.createElement(j.a,{key:t,value:e.label},e.label)}))))),n.a.createElement(A.a,{className:t.cardContentRoot},n.a.createElement(o.a,{padding:2},n.a.createElement(le,{data:r})),n.a.createElement(o.a,{padding:2},n.a.createElement(S.a,{gutterBottom:!0,variant:"h4"},"KEY"),n.a.createElement(ae,{data:r}))))},re=a(1147),ie=(a(645),a(1050)),oe=function(e){var t=e.currentFilter,a=e.setCurrentFilter,l=e.classes,r=e.filters,i=void 0===r?[]:r;return n.a.createElement(x.a,null,n.a.createElement(o.a,{className:l.backdropContent},n.a.createElement(k.a,{label:"Filter with",data:i,valueKey:"label",labelKey:"label",value:t,onChange:function(e){a(e.target.value)}})))},ce=function(e){var t=e.currentFilter,a=e.classes;return n.a.createElement(o.a,{display:"flex",alignItems:"center",mx:{xs:-2,sm:-4}},n.a.createElement(o.a,{className:a.headerItem},t))},me=function(e){var t=e.data;return n.a.createElement(F.f,{width:"100%",height:300},n.a.createElement(F.b,{data:t},n.a.createElement(F.k,{dataKey:"name"}),n.a.createElement(F.l,null),n.a.createElement(F.a,{dataKey:"a",stackId:"a",name:"Near Miss",fill:B.a[3]}),n.a.createElement(F.a,{dataKey:"b",stackId:"a",name:"Opportunity Cost",fill:B.a[2]}),n.a.createElement(F.a,{dataKey:"c",stackId:"a",name:"Indirect Financial Cost",fill:B.a[1]}),n.a.createElement(F.a,{dataKey:"d",stackId:"a",name:"Direct Financial Cost",fill:B.a[0]}),n.a.createElement(F.e,{verticalAlign:"bottom"}),n.a.createElement(F.i,null)))},se=function(e){var t=e.classes,a=e.currentFilter,r=void 0===a?"Loss Type":a,i=e.data,m=e.setCurrentFilter,s=e.filters,d=Object(l.useState)(!1),u=Object(c.a)(d,2),p=u[0],g=u[1];return n.a.createElement(C.a,{concealedIcon:n.a.createElement(v.a,{src:"/images/icons/filter_icon.png",alt:"filter"}),backLayerConcealed:p?"":n.a.createElement(ce,{currentFilter:r,classes:t}),backLayerRevealed:n.a.createElement(oe,{currentFilter:r,classes:t,setCurrentFilter:m,filters:s}),onRevealed:function(){g(!p)}},n.a.createElement(o.a,{display:"flex",alignItems:"center",p:{xs:4,lg:6,xl:8}},n.a.createElement(o.a,null,n.a.createElement(o.a,{pl:{xs:4,lg:6,xl:8}},n.a.createElement(o.a,{display:"flex",alignItems:"baseline"},n.a.createElement(S.a,{component:"div",variant:"h4"},"Number of Risks per Loss Type"))))),n.a.createElement(o.a,{padding:2},n.a.createElement(me,{data:i})))},de=Object(d.a)((function(e){var t;return{headerItem:(t={display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16},Object(m.a)(t,e.breakpoints.down("xs"),{fontSize:13,paddingLeft:8,paddingRight:8}),Object(m.a)(t,"color",Object(f.a)(e.palette.common.white,.74)),Object(m.a)(t,"&:not(:first-child)",{borderLeft:"1px solid ".concat(Object(f.a)(e.palette.common.white,.8))}),Object(m.a)(t,"& .MuiSvgIcon-root",{marginRight:12}),t),backdropContent:{color:Object(f.a)(e.palette.common.white,.74),"& .form-control":{marginBottom:20,"& label, & .MuiInput-formControl, & .MuiSelect-icon, & .MuiIconButton-root":{color:Object(f.a)(e.palette.common.white,.74)},"& .MuiInput-underline:before, & .MuiInput-underline:after":{borderBottomColor:Object(f.a)(e.palette.common.white,.74)}}},dialogRoot:{position:"relative"},dialogHeader:{backgroundColor:e.palette.primary.main},dialogTitleRoot:{"& .MuiTypography-h6":{fontSize:16,color:e.palette.common.white}},cardContentRoot:{position:"relative"},titleRoot:{letterSpacing:.5,marginBottom:20},listItemRoot:{padding:0,"& .root":{marginBottom:1},"& .Cmt-label-container":{fontSize:12,color:e.palette.text.secondary}},selectBoxRoot:{"&:before, &:after":{display:"none"},"& .MuiSelect-select:focus":{backgroundColor:"transparent"}},subTitleRoot:{fontSize:12,color:e.palette.text.secondary},lossCategoryRoot:{color:e.palette.text.primary,"& text":{fill:e.palette.text.primary}}}})),ue=[{id:1,label:"Departments"},{id:2,label:"Risk Categories"}],pe=n.a.forwardRef((function(e,t){return n.a.createElement(p.a,Object.assign({ref:t},e,{unmountOnExit:!0}))})),ge=function(e){var t=e.onCloseDialog,a=e.openDialog,l=e.currentFilter,r=e.risks,i=de();return n.a.createElement(g.a,{open:a,fullWidth:!0,maxWidth:"lg",onClose:t,scroll:"paper",TransitionComponent:pe},n.a.createElement("div",{className:i.dialogHeader},n.a.createElement(E.a,{className:i.dialogTitleRoot},"Risks by ",l)),n.a.createElement(b.a,{style:{marginTop:10}},n.a.createElement(o.a,{sx:{width:"100%"}},n.a.createElement(q,{risks:r})),n.a.createElement(o.a,{display:"flex",justifyContent:"flex-end",mb:4},n.a.createElement(h.a,{onClick:t,size:"small"},"Cancel"))))},Ee=function(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(l.useState)([]),o=Object(c.a)(i,2),m=o[0],d=o[1],p=Object(l.useState)([]),g=Object(c.a)(p,2),E=g[0],b=g[1],h=Object(l.useState)([]),f=Object(c.a)(h,2),y=f[0],w=f[1],F=Object(l.useState)(ue),v=Object(c.a)(F,2),C=v[0],x=(v[1],Object(l.useState)({id:"",name:""})),k=Object(c.a)(x,2),S=k[0],R=k[1],O=Object(l.useState)([]),j=Object(c.a)(O,2),I=j[0],H=j[1],W=Object(l.useState)(C[0].label),A=Object(c.a)(W,2),D=A[0],N=A[1],z=Object(l.useState)(!1),T=Object(c.a)(z,2),L=T[0],M=T[1],K=de();return Object(l.useEffect)((function(){H(L?Q.h:[])}),[L]),Object(l.useEffect)((function(){D===C[0].label?""!==S.id&&""!==S.name?r(B.k):(r(B.j),b(B.d),d(B.g),w(B.e)):D===C[1].label&&(r(B.i),b(B.c),d(B.h),w(B.f))}),[D,S]),n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(V,{data:a,classes:K,filters:C,currentFilter:D,setCurrentFilter:N,department:S,setDepartment:R,setOpenDialog:M})),n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(re.a,{data:m,lossTypeData:E,classes:K,currentFilter:D,setCurrentFilter:N,filters:C})),n.a.createElement(u.a,{item:!0,xs:12,md:8},n.a.createElement(ie.b,{data:m,classes:K,currentFilter:D,setCurrentFilter:N,filters:C})),n.a.createElement(u.a,{item:!0,xs:12,md:4},n.a.createElement(se,{data:E,classes:K,currentFilter:D,setCurrentFilter:N,filters:C})),n.a.createElement(u.a,{item:!0,xs:12,md:12},n.a.createElement(ne,{data:y,classes:K,currentFilter:D,setCurrentFilter:N,filters:C}))),n.a.createElement(ge,{currentFilter:D,openDialog:L,onCloseDialog:function(){M(!1)},risks:I}))},be=a(723),he=[{label:i.a.DASHBOARD,link:"/"},{label:i.a.GENERAL_DASHBOARD,isActive:!0}];t.default=function(){return n.a.createElement(r.a,{heading:i.a.GENERAL_DASHBOARD,breadcrumbs:he},n.a.createElement(o.a,{width:"100%"},n.a.createElement(be.c,null),n.a.createElement(o.a,{mt:2},n.a.createElement(Ee,null))))}}}]);
//# sourceMappingURL=14.9f54854c.chunk.js.map