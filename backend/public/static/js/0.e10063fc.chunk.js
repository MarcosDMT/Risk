(this["webpackJsonprisk-solve"]=this["webpackJsonprisk-solve"]||[]).push([[0],{2140:function(e,a,t){"use strict";var n=t(0),l=t(146);a.a=Object(l.a)(n.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")},2157:function(e,a,t){"use strict";t.r(a);var n=t(36),l=t(24),r=t(0),c=t.n(r),i=t(72),o=t(163),m=t(5),u=t(17),s=t(55),d=t(407),b=t(18),E=t(2083),p=t(2084),f=t(2104),O=t(1962),j=t(378),g=t(120),h=t(2068),N=t(2069),v=t(2070),S=t(2071),I=t(2072),y=t(2073),x=t(201),C=t(476),k=t(169),D=t(37),z=Object(k.a)(Object(D.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd"),R=Object(k.a)(Object(D.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"}),"Work"),U=Object(k.a)(Object(D.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PanoramaFishEye"),W=t(87),A=t(290),w=t(107),T=t(1954),L=t(2140),F=t(1959),H=t(48),P=t(131),V=t(103),_=t(125),q=t(408),B=t(536),M=t(39),J=t(189),$=t(232),G=Object(s.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(O.a),K=Object(d.a)((function(e){return{root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}}}));function Q(e){var a,t=K(),n=e.active,l=e.completed,r={1:c.a.createElement(z,null),2:c.a.createElement(R,null),3:c.a.createElement(U,null)};return c.a.createElement(g.a,{className:Object(b.a)(t.root,(a={},Object(u.a)(a,t.active,n),Object(u.a)(a,t.completed,l),a))},r[String(e.icon)])}var X=function(e){var a=e.userDetails,t=a.organization,n=Object(_.a)();return c.a.createElement(h.a,{className:n.inBuildAppCard},c.a.createElement(N.a,{size:"small","aria-label":"a dense table"},c.a.createElement(v.a,{className:n.tableHeader},c.a.createElement(S.a,null,c.a.createElement(I.a,{className:n.tableHeaderCell},"Field Name"),c.a.createElement(I.a,{className:n.tableHeaderCell},"Input Value"))),c.a.createElement(y.a,null,c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"First Name")),c.a.createElement(I.a,null,""!==a.firstName?a.firstName:"Not Set")),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Last Name")),c.a.createElement(I.a,null,""!==a.lastName?a.lastName:"Not Set")),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Email Address")),c.a.createElement(I.a,null,""!==a.email?a.email:"Not Set")),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Phone Number")),c.a.createElement(I.a,null,""!==a.phoneNumber?a.phoneNumber:"Not Set")),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Staff Number")),c.a.createElement(I.a,null,""!==a.staffNumber?a.staffNumber:"Not Set")),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Subsidiary")),c.a.createElement(I.a,null,""!==a.companyName?a.companyName:"Not Set")),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Department(s)")),c.a.createElement(I.a,null,0!==t.length&&t.map((function(e,a){return c.a.createElement("li",{key:a},e.departmentName," ")})))),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Sections")),c.a.createElement(I.a,null,0!==t.length&&t.map((function(e,a){return c.a.createElement("li",{key:a},e.sectionName,", ")})))),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Sub-Section")),c.a.createElement(I.a,null,0!==t.length&&t.map((function(e,a){return c.a.createElement("li",{key:a},e.subSectionName," ")})))),c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement("b",null,"Role")),c.a.createElement(I.a,null,""!==a.roleName?a.roleName:"Not Set")))))},Y=function(e){var a=e.classes,t=e.handleReset,n=e.isUpdate;return c.a.createElement(g.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},c.a.createElement(P.a,{src:"/images/ic_ok.svg",style:{width:"50px"}}),c.a.createElement("p",{className:a.instructions,style:{marginTop:"10px"}},c.a.createElement("b",null,"User was ",n?"updated":"created"," successfully!")),c.a.createElement(g.a,{mt:10},c.a.createElement(V.a,{to:"/users"},c.a.createElement(j.a,{color:"primary",variant:"contained"},"Back to Users Dashboard")),!n&&c.a.createElement(j.a,{onClick:t,className:a.button},"Create New User")))},Z=function(e){var a=e.departments,t=e.sections,n=e.subSections,l=e.organization,r=e.userDetails,i=e.index,o=e.handleOnDepartmentChange,m=e.handleOnSectionChange,u=e.handleOnSubSectionChange,s=e.handleRemoveDept;return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,null,c.a.createElement(x.a,{item:!0,md:4,xs:12},c.a.createElement(q.a,{fullWidth:!0,id:"department_".concat(i),options:Object(H.e)(a,r,"companyId"),value:Object(H.c)(a,l.departmentId),getOptionLabel:function(e){return e.name},onChange:o(i),renderOption:function(e,a){a.selected;return c.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return c.a.createElement(A.a,Object.assign({required:!0,helperText:""===r.companyId?"Select Subsidiary":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Department"}))}})),c.a.createElement(x.a,{item:!0,md:3,xs:12},c.a.createElement(q.a,{fullWidth:!0,options:Object(H.e)(t,l,"departmentId","departmentsId"),value:Object(H.c)(t,l.sectionId),getOptionLabel:function(e){return e.name},onChange:m(i),renderOption:function(e,a){a.selected;return c.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return c.a.createElement(A.a,Object.assign({helperText:""===l.departmentId?"Select Department":"",fullWidth:!0},e,{size:"small",variant:"outlined",label:"Section"}))}})),c.a.createElement(x.a,{item:!0,md:4,xs:12},c.a.createElement(q.a,{fullWidth:!0,options:Object(H.e)(n,l,"sectionId","sectionsId"),value:Object(H.c)(n,l.subSectionId),getOptionLabel:function(e){return e.name},onChange:u(i),renderOption:function(e,a){a.selected;return c.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return c.a.createElement(A.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Sub-Section"}))}})),c.a.createElement(x.a,{item:!0,md:1,xs:12},c.a.createElement(C.a,{color:"secondary",onClick:function(e){return s(i)}},c.a.createElement(F.a,{fontSize:"small"})))))},ee=function(e){var a=e.isValid,t=e.isUpdate,i=e.initialState,o=e.userDetails,u=e.setUserDetails,s=e.departments,d=e.subsidiaries,b=e.sections,O=e.subSections,h=e.roles,N=e.setOpenDialog,v=Object(_.a)(),S=Object(M.e)((function(e){return e.subsidiaries})).currentSubsidiary,I={departmentId:null,departmentName:"",sectionId:null,sectionName:"",subSectionId:null,subSectionName:""},y=Object(r.useState)(0),C=Object(l.a)(y,2),k=C[0],D=C[1],z=["Personal Details","Work Details","Preview"],R=o.organization,U=Object(M.d)(),F=function(){D((function(e){return e+1}))},P=function(e){var a=Object(n.a)(R);a.length-1!==0?(a.splice(e,1),u(Object(m.a)(Object(m.a)({},o),{},{organization:a}))):U(Object(J.a)("At least One Department is Required"))},V=function(e){return function(a,t){var l=Object(n.a)(o.organization);l[e]=null!==t?{departmentId:t.id,departmentName:t.name,sectionId:null,sectionName:"",subSectionId:null,subSectionName:""}:{departmentId:null,departmentName:"",sectionId:null,sectionName:"",subSectionId:null,subSectionName:""},u(Object(m.a)(Object(m.a)({},o),{},{organization:Object(n.a)(l)}))}},K=function(e){return function(a,t){var l=Object(n.a)(R);l[e]=null!==t?Object(m.a)(Object(m.a)({},l[e]),{},{sectionId:t.id,sectionName:t.name,subSectionId:null,subSectionName:""}):Object(m.a)(Object(m.a)({},l[e]),{},{sectionId:null,sectionName:"",subSectionId:null,subSectionName:""}),u(Object(m.a)(Object(m.a)({},o),{},{organization:Object(n.a)(l)}))}},ee=function(e){return function(a,t){var l=Object(n.a)(R);l[e]=null!==t?Object(m.a)(Object(m.a)({},l[e]),{},{subSectionId:t.id,subSectionName:t.name}):Object(m.a)(Object(m.a)({},l[e]),{},{subSectionId:null,subSectionName:""}),u(Object(m.a)(Object(m.a)({},o),{},{organization:Object(n.a)(l)}))}};return Object(r.useEffect)((function(){u(Object(m.a)(Object(m.a)({},o),{},{companyId:S,roleId:null,roleName:"",organization:[I]})),U(Object(B.c)(S))}),[S]),c.a.createElement(g.a,{className:v.root},c.a.createElement(E.a,{alternativeLabel:!0,activeStep:k,connector:c.a.createElement(G,null)},z.map((function(e){return c.a.createElement(p.a,{key:e},c.a.createElement(f.a,{StepIconComponent:Q},e))}))),c.a.createElement(g.a,{pt:5,pb:10,pr:10,pl:10},k===z.length?c.a.createElement(Y,{classes:v,handleReset:function(){D(0),u(i)},userDetails:o,isUpdate:t}):c.a.createElement(g.a,{display:"flex",flexDirection:"column"},0===k&&c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,null,!t&&c.a.createElement(x.a,{item:!0,md:12,xs:12},c.a.createElement(g.a,{display:"flex"},c.a.createElement(g.a,{flex:"1 0 auto"}),c.a.createElement(j.a,{variant:"outlined",color:"primary",onClick:function(e){return N(!0)}},"Import From Active Directory"))),c.a.createElement(x.a,{item:!0,md:6,xs:12},c.a.createElement(w.a,{fullWidth:!0,variant:"outlined",label:"First Name",helperText:""===o.firstName?"First Name is required.":"",type:"text",value:o.firstName,onChange:function(e){return u(Object(m.a)(Object(m.a)({},o),{},{firstName:e.target.value}))}})),c.a.createElement(x.a,{item:!0,md:6,xs:12},c.a.createElement(w.a,{fullWidth:!0,variant:"outlined",label:"Last Name",helperText:""===o.lastName?"Last Name is required.":"",value:o.lastName,onChange:function(e){return u(Object(m.a)(Object(m.a)({},o),{},{lastName:e.target.value}))}})),c.a.createElement(x.a,{item:!0,md:6,xs:12},c.a.createElement(w.a,{fullWidth:!0,variant:"outlined",label:"Email Address",helperText:Object(H.g)(o.email)?"":"Email is Invalid!",value:o.email,onChange:function(e){return u(Object(m.a)(Object(m.a)({},o),{},{email:e.target.value,userName:e.target.value}))}})),c.a.createElement(x.a,{item:!0,md:6,xs:12},c.a.createElement(w.a,{fullWidth:!0,variant:"outlined",label:"Phone Number",value:o.phoneNumber,helperText:""===o.phoneNumber?"Phone number is required.":"",onChange:function(e){return u(Object(m.a)(Object(m.a)({},o),{},{phoneNumber:e.target.value}))}})))),1===k&&c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,null,c.a.createElement(x.a,{item:!0,md:4,xs:12},c.a.createElement(w.a,{fullWidth:!0,variant:"outlined",label:"Staff Number [Optional]",value:o.staffNumber,onChange:function(e){return u(Object(m.a)(Object(m.a)({},o),{},{staffNumber:e.target.value}))}})),c.a.createElement(x.a,{item:!0,md:4,xs:12},c.a.createElement(q.a,{fullWidth:!0,options:d,value:Object(H.c)(d,o.companyId),getOptionLabel:function(e){return e.name},onChange:function(e,a){null!==a?(u(Object(m.a)(Object(m.a)({},o),{},{companyId:a.id,companyName:a.name,roleId:null,roleName:"",organization:[I]})),U(Object(B.c)(a.id))):(u(Object(m.a)(Object(m.a)({},o),{},{companyId:"",companyName:"",roleId:null,roleName:"",organization:[I]})),U(Object(B.c)("All")))},renderOption:function(e,a){a.selected;return c.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return c.a.createElement(A.a,Object.assign({required:!0,fullWidth:!0},e,{size:"small",variant:"outlined",label:"Subsidiary"}))}})),c.a.createElement(x.a,{item:!0,md:4,xs:12},c.a.createElement(q.a,{fullWidth:!0,options:h,value:Object(H.c)(h,o.roleId),getOptionLabel:function(e){return e.name},onChange:function(e,a){u(null!==a?Object(m.a)(Object(m.a)({},o),{},{roleId:a.id,roleName:a.name}):Object(m.a)(Object(m.a)({},o),{},{roleId:null,roleName:""}))},renderOption:function(e,a){a.selected;return c.a.createElement("span",{key:e.id},e.name)},renderInput:function(e){return c.a.createElement(A.a,Object.assign({fullWidth:!0},e,{size:"small",variant:"outlined",label:"Role"}))}}))),c.a.createElement(g.a,{width:"100%",mt:5,mb:2,display:"flex"},c.a.createElement(j.a,{onClick:function(){u(Object(m.a)(Object(m.a)({},o),{},{organization:[].concat(Object(n.a)(o.organization),[I])}))},type:"button",size:"small",startIcon:c.a.createElement(T.a,null),variant:"outlined",color:"primary"},"Assign Department")),0!==R.length&&R.map((function(e,a){return c.a.createElement(g.a,{key:a,mt:3},c.a.createElement(Z,{departments:s,sections:b,subSections:O,organization:e,userDetails:o,handleOnDepartmentChange:V,handleOnSectionChange:K,handleOnSubSectionChange:ee,index:a,handleRemoveDept:P}))}))),2===k&&c.a.createElement(g.a,{display:"flex",alignItems:"center",justifyItems:"center"},c.a.createElement(X,{userDetails:o})),c.a.createElement(g.a,{display:"flex",mt:10},c.a.createElement(j.a,{disabled:0===k,onClick:function(){D((function(e){return e-1}))},className:v.button},c.a.createElement(L.a,null)," Back"),c.a.createElement(g.a,{flex:"1 0 auto"}),k===z.length-1?c.a.createElement(j.a,{variant:"contained",disabled:!a,color:"primary",onClick:function(){U(t?Object($.e)(o,(function(){return F()})):Object($.a)(o,(function(){return F()})))},className:v.button},"Finish"):c.a.createElement(j.a,{variant:"contained",color:"primary",onClick:F,className:v.button},"Next")))))},ae=t(159),te=t(1946),ne=t(475),le=t(2053),re=t(2054),ce=t(2055),ie=t(101),oe=t.n(ie),me=t(102),ue=t(183),se=t(185),de=t(203),be=t(241),Ee=c.a.forwardRef((function(e,a){return c.a.createElement(te.a,Object.assign({direction:"down",ref:a},e))})),pe=function(e){var a=e.openDialog,t=e.onCloseDialog,n=e.username,l=e.setUsername,r=e.handleOnSearchUsername,i=oe()((function(e){return{dialogRoot:{position:"relative"},dialogHeader:{backgroundColor:e.palette.primary.main},dialogTitleRoot:{"& .MuiTypography-h6":{fontSize:16,color:e.palette.common.white}}}}))();return c.a.createElement(le.a,{open:a,onClose:t,TransitionComponent:Ee,className:i.dialogRoot},c.a.createElement("div",{className:i.dialogHeader},c.a.createElement(re.a,{className:i.dialogTitleRoot},"Import from Active Directory")),c.a.createElement(ce.a,{style:{marginTop:10}},c.a.createElement(g.a,{sx:{width:400}},c.a.createElement(W.a,{style:{marginBottom:12}},c.a.createElement(x.a,{item:!0,xs:12,sm:12},c.a.createElement(w.a,{fullWidth:!0,variant:"outlined",label:"Username",value:n,onChange:function(e){return l(e.target.value)}})))),c.a.createElement(g.a,{display:"flex",justifyContent:"flex-end",mb:4},c.a.createElement(j.a,{onClick:t,size:"small"},"Cancel"),c.a.createElement(g.a,{ml:2},c.a.createElement(j.a,{variant:"contained",color:"primary",size:"small",onClick:r},"Search")))))};a.default=function(){var e=Object(ae.a)(),a=[{label:i.a.DASHBOARD,link:"/"},{label:i.a.USERS,link:"/users"}],t=Object(r.useState)(!1),m=Object(l.a)(t,2),u=m[0],s=m[1],d=Object(r.useState)(""),b=Object(l.a)(d,2),E=b[0],p=b[1],f=Object(r.useState)(!1),O=Object(l.a)(f,2),j=O[0],g=O[1],h=Object(r.useState)(a),N=Object(l.a)(h,2),v=N[0],S=N[1],I={firstName:"",lastName:"",email:"",userName:"",password:"12345678",companyId:"",companyName:"",organization:[{departmentId:null,departmentName:"",sectionId:null,sectionName:"",subSectionId:null,subSectionName:""}],confirmPassword:"12345678",phoneNumber:"",staffNumber:"",ext_Number:"",roleId:null,roleName:""},y=Object(r.useState)(!1),x=Object(l.a)(y,2),C=x[0],k=x[1],D=Object(M.d)(),z=Object(M.e)((function(e){return e.subsidiaries})),R=z.subsidiaries,U=(z.currentSubsidiary,Object(M.e)((function(e){return e.departments})).filteredDepartments),W=Object(M.e)((function(e){return e.sections})).filteredSections,A=Object(M.e)((function(e){return e.subSections})).filteredSubSections,w=Object(M.e)((function(e){return e.roles})).rolesList,T=Object(r.useState)(I),L=Object(l.a)(T,2),F=L[0],H=L[1],P=Object(me.h)();return Object(r.useEffect)((function(){var e;void 0!==P.state?(S([].concat(Object(n.a)(v),[{label:i.a.EDIT_USER,isActive:!0}])),H(P.state),D(Object(B.c)(null===(e=P.state)||void 0===e?void 0:e.companyId)),k(!0)):(S([].concat(Object(n.a)(v),[{label:i.a.CREATE_USER,isActive:!0}])),H(I),k(!1),D(Object(B.c)("All")))}),[P]),Object(r.useEffect)((function(){!function(){var e=F.firstName,a=F.lastName,t=F.email,n=F.phoneNo,l=F.companyId;s(""!==e&&""!==a&&""!==t&&""!==n&&""!==l)}()}),[F]),Object(r.useEffect)((function(){D(Object(ue.c)()),D(Object(se.c)()),D(Object(de.c)()),D(Object(be.c)())}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{heading:C?i.a.EDIT_USER:i.a.CREATE_USER,breadcrumbs:v},c.a.createElement("div",{className:e.root},c.a.createElement(ne.a,{className:e.paper},c.a.createElement(ee,{initialState:I,userDetails:F,isUpdate:C,isValid:u,setIsValid:s,setUserDetails:H,departments:U,subsidiaries:R,sections:W,subSections:A,roles:w,setOpenDialog:g})))),c.a.createElement(pe,{openDialog:j,onCloseDialog:function(){g(!1)},username:E,setUsername:p,handleOnSearchUsername:function(){console.log(E)}}))}}}]);
//# sourceMappingURL=0.e10063fc.chunk.js.map