{"version":3,"sources":["../node_modules/@material-ui/icons/esm/ArrowBackIos.js","../node_modules/@mui/icons-material/esm/PersonAdd.js","../node_modules/@mui/icons-material/esm/Work.js","../node_modules/@mui/icons-material/esm/PanoramaFishEye.js","routes/Pages/Users/AddEditUser/UserForm.js","routes/Pages/Users/AddEditUser/index.js"],"names":["createSvgIcon","React","d","_jsx","ColorlibConnector","withStyles","alternativeLabel","top","active","backgroundImage","completed","line","height","border","backgroundColor","borderRadius","StepConnector","useColorlibStepIconStyles","makeStyles","theme","root","zIndex","color","width","display","justifyContent","alignItems","boxShadow","ColorlibStepIcon","props","classes","icons","1","PersonAdd","2","Work","3","PanoramaFishEye","Box","className","clsx","String","icon","Preview","userDetails","organization","useStyles","TableContainer","inBuildAppCard","Table","size","aria-label","TableHead","tableHeader","TableRow","TableCell","tableHeaderCell","TableBody","firstName","lastName","email","phoneNumber","staffNumber","companyName","length","map","org","index","key","departmentName","sectionName","subSectionName","roleName","SuccessPage","handleReset","isUpdate","flexDirection","CmtImage","src","style","instructions","marginTop","mt","to","Button","variant","onClick","button","AddDepartmentForm","departments","sections","subSections","handleOnDepartmentChange","handleOnSectionChange","handleOnSubSectionChange","handleRemoveDept","GridContainer","Grid","item","md","xs","Autocomplete","fullWidth","id","options","getFilteredOptions","value","getAutoCompleteValue","departmentId","getOptionLabel","option","name","onChange","renderOption","selected","renderInput","params","TextField","required","helperText","companyId","label","sectionId","subSectionId","IconButton","e","Close","fontSize","UserForm","isValid","initialState","setUserDetails","subsidiaries","roles","setOpenDialog","currentSubsidiary","useSelector","initialOrganization","useState","activeStep","setActiveStep","steps","dispatch","useDispatch","handleNext","prevActiveStep","data","splice","fetchError","event","useEffect","roleId","fetchRoles","Stepper","connector","Step","StepLabel","StepIconComponent","pt","pb","pr","pl","flex","AppTextInput","type","target","isValidEmail","userName","mb","startIcon","AddCircle","justifyItems","disabled","ArrowBackIos","updateUser","addUser","Transition","forwardRef","ref","Slide","direction","ADDialog","openDialog","onCloseDialog","username","setUsername","handleOnSearchUsername","dialogRoot","position","dialogHeader","palette","primary","main","dialogTitleRoot","common","white","Dialog","open","onClose","TransitionComponent","DialogTitle","DialogContent","sx","marginBottom","sm","ml","AddEditUser","initialBreadcrumbs","HEADER","DASHBOARD","link","USERS","setIsValid","breadcrumbs","setBreadcrumbs","password","confirmPassword","ext_Number","setIsUpdate","filteredDepartments","filteredSections","filteredSubSections","rolesList","location","useLocation","undefined","state","EDIT_USER","isActive","CREATE_USER","phoneNo","checkErrors","fetchSubsidiaries","fetchDepartments","fetchSections","fetchSubSections","Fragment","PageContainer","heading","Paper","paper","console","log"],"mappings":"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","file":"static/js/0.e10063fc.chunk.js","sourcesContent":["import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'PersonAdd');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z\"\n}), 'Work');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'PanoramaFishEye');","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepConnector from '@material-ui/core/StepConnector';\r\nimport Button from '@material-ui/core/Button';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from '@material-ui/core';\r\nimport { AccountBox, PanoramaFishEye, PersonAdd, Work } from '@mui/icons-material';\r\nimport GridContainer from '../../../../@jumbo/components/GridContainer';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AppTextInput from '../../../../@jumbo/components/Common/formElements/AppTextInput';\r\nimport { AddCircle, ArrowBackIos, Close } from '@material-ui/icons';\r\nimport { getAutoCompleteValue, getFilteredOptions, isValidEmail } from '../../../../@jumbo/utils/commonHelper';\r\nimport CmtImage from '../../../../@coremat/CmtImage';\r\nimport { Link } from 'react-router-dom';\r\nimport useStyles from '../../Roles/index.style';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { fetchRoles } from '../../../../redux/actions/Roles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchError } from '../../../../redux/actions';\r\nimport { addUser, updateUser } from '../../../../redux/actions/Users';\r\n\r\nconst ColorlibConnector = withStyles({\r\n  alternativeLabel: {\r\n    top: 22,\r\n  },\r\n  active: {\r\n    '& $line': {\r\n      backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)',\r\n    },\r\n  },\r\n  completed: {\r\n    '& $line': {\r\n      backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)',\r\n    },\r\n  },\r\n  line: {\r\n    height: 3,\r\n    border: 0,\r\n    backgroundColor: '#eaeaf0',\r\n    borderRadius: 1,\r\n  },\r\n})(StepConnector);\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: '#ccc',\r\n    zIndex: 1,\r\n    color: '#fff',\r\n    width: 50,\r\n    height: 50,\r\n    display: 'flex',\r\n    borderRadius: '50%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  active: {\r\n    backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n    // background: `linear-gradient(136deg, ${theme.palette.primary.main}, ${theme.palette.primary.main}  50%, ${theme.palette.secondary.main}  100%)`,\r\n    boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n  },\r\n  completed: {\r\n    backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n    //background: `linear-gradient(136deg, ${theme.palette.primary.main}, ${theme.palette.primary.main}  50%, ${theme.palette.secondary.main}  100%)`,\r\n  },\r\n}));\r\n\r\nfunction ColorlibStepIcon(props) {\r\n  const classes = useColorlibStepIconStyles();\r\n  const { active, completed } = props;\r\n\r\n  const icons = {\r\n    1: <PersonAdd />,\r\n    2: <Work />,\r\n    3: <PanoramaFishEye />,\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      className={clsx(classes.root, {\r\n        [classes.active]: active,\r\n        [classes.completed]: completed,\r\n      })}>\r\n      {icons[String(props.icon)]}\r\n    </Box>\r\n  );\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n  /**\r\n   * Whether this step is active.\r\n   */\r\n  active: PropTypes.bool,\r\n  /**\r\n   * Mark the step as completed. Is passed to child components.\r\n   */\r\n  completed: PropTypes.bool,\r\n  /**\r\n   * The label displayed in the step icon.\r\n   */\r\n  icon: PropTypes.node,\r\n};\r\n\r\nfunction getSteps() {\r\n  return ['Personal Details', 'Work Details', 'Preview'];\r\n}\r\n\r\nconst Preview = props => {\r\n  const { userDetails } = props;\r\n  const { organization } = userDetails;\r\n  const classes = useStyles();\r\n  return (\r\n    <TableContainer className={classes.inBuildAppCard}>\r\n      <Table size=\"small\" aria-label=\"a dense table\">\r\n        <TableHead className={classes.tableHeader}>\r\n          <TableRow>\r\n            <TableCell className={classes.tableHeaderCell}>Field Name</TableCell>\r\n            <TableCell className={classes.tableHeaderCell}>Input Value</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>First Name</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.firstName !== '' ? userDetails.firstName : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Last Name</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.lastName !== '' ? userDetails.lastName : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Email Address</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.email !== '' ? userDetails.email : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Phone Number</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.phoneNumber !== '' ? userDetails.phoneNumber : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Staff Number</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.staffNumber !== '' ? userDetails.staffNumber : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Subsidiary</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.companyName !== '' ? userDetails.companyName : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Department(s)</b>\r\n            </TableCell>\r\n            <TableCell>\r\n              {organization.length !== 0 && organization.map((org, index) => <li key={index}>{org.departmentName} </li>)}\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Sections</b>\r\n            </TableCell>\r\n            <TableCell>\r\n              {organization.length !== 0 && organization.map((org, index) => <li key={index}>{org.sectionName}, </li>)}\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Sub-Section</b>\r\n            </TableCell>\r\n            <TableCell>\r\n              {organization.length !== 0 && organization.map((org, index) => <li key={index}>{org.subSectionName} </li>)}\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <b>Role</b>\r\n            </TableCell>\r\n            <TableCell>{userDetails.roleName !== '' ? userDetails.roleName : 'Not Set'}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\nconst SuccessPage = props => {\r\n  const { classes, handleReset, isUpdate } = props;\r\n  return (\r\n    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" flexDirection=\"column\">\r\n      <CmtImage src={'/images/ic_ok.svg'} style={{ width: '50px' }} />\r\n      <p className={classes.instructions} style={{ marginTop: '10px' }}>\r\n        <b>User was {isUpdate ? 'updated' : 'created'} successfully!</b>\r\n      </p>\r\n      {/*{!isUpdate && (*/}\r\n      {/*  <p>*/}\r\n      {/*    An email with login credential has also been sent to!{' '}*/}\r\n      {/*    <i>*/}\r\n      {/*      <b>{userDetails.email}</b>*/}\r\n      {/*    </i>*/}\r\n      {/*    .*/}\r\n      {/*  </p>*/}\r\n      {/*)}*/}\r\n      <Box mt={10}>\r\n        <Link to={'/users'}>\r\n          <Button color={'primary'} variant={'contained'}>\r\n            Back to Users Dashboard\r\n          </Button>\r\n        </Link>\r\n        {!isUpdate && (\r\n          <Button onClick={handleReset} className={classes.button}>\r\n            Create New User\r\n          </Button>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\nconst UserForm = props => {\r\n  const {\r\n    isValid,\r\n    isUpdate,\r\n    initialState,\r\n    userDetails,\r\n    setUserDetails,\r\n    departments,\r\n    subsidiaries,\r\n    sections,\r\n    subSections,\r\n    roles,\r\n    setOpenDialog,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const { currentSubsidiary } = useSelector(({ subsidiaries }) => subsidiaries);\r\n  const initialOrganization = {\r\n    departmentId: null,\r\n    departmentName: '',\r\n    sectionId: null,\r\n    sectionName: '',\r\n    subSectionId: null,\r\n    subSectionName: '',\r\n  };\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const steps = getSteps();\r\n  const { organization } = userDetails;\r\n  const dispatch = useDispatch();\r\n  const handleNext = () => {\r\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\r\n  };\r\n  const handleRemoveDept = index => {\r\n    const data = [...organization];\r\n    if (data.length - 1 !== 0) {\r\n      data.splice(index, 1);\r\n      setUserDetails({ ...userDetails, organization: data });\r\n    } else {\r\n      dispatch(fetchError('At least One Department is Required'));\r\n    }\r\n  };\r\n  const handleAddDepartment = () => {\r\n    setUserDetails({ ...userDetails, organization: [...userDetails.organization, initialOrganization] });\r\n  };\r\n  const handleBack = () => {\r\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n    setUserDetails(initialState);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (isUpdate) {\r\n      dispatch(updateUser(userDetails, () => handleNext()));\r\n    } else {\r\n      dispatch(addUser(userDetails, () => handleNext()));\r\n    }\r\n    //handleNext();\r\n  };\r\n  const handleOnSubsidiaryChange = (event, value) => {\r\n    if (value !== null) {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        companyId: value.id,\r\n        companyName: value.name,\r\n        roleId: null,\r\n        roleName: '',\r\n        organization: [initialOrganization],\r\n      });\r\n      dispatch(fetchRoles(value.id));\r\n    } else {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        companyId: '',\r\n        companyName: '',\r\n        roleId: null,\r\n        roleName: '',\r\n        organization: [initialOrganization],\r\n      });\r\n      dispatch(fetchRoles('All'));\r\n    }\r\n  };\r\n  const handleOnRoleChange = (event, value) => {\r\n    if (value !== null) {\r\n      setUserDetails({ ...userDetails, roleId: value.id, roleName: value.name });\r\n    } else {\r\n      setUserDetails({ ...userDetails, roleId: null, roleName: '' });\r\n    }\r\n  };\r\n  const handleOnDepartmentChange = index => (event, value) => {\r\n    const data = [...userDetails.organization];\r\n    if (value !== null) {\r\n      data[index] = {\r\n        departmentId: value.id,\r\n        departmentName: value.name,\r\n        sectionId: null,\r\n        sectionName: '',\r\n        subSectionId: null,\r\n        subSectionName: '',\r\n      };\r\n    } else {\r\n      data[index] = {\r\n        departmentId: null,\r\n        departmentName: '',\r\n        sectionId: null,\r\n        sectionName: '',\r\n        subSectionId: null,\r\n        subSectionName: '',\r\n      };\r\n    }\r\n    setUserDetails({ ...userDetails, organization: [...data] });\r\n  };\r\n  const handleOnSectionChange = index => (event, value) => {\r\n    const data = [...organization];\r\n    if (value !== null) {\r\n      data[index] = {\r\n        ...data[index],\r\n        sectionId: value.id,\r\n        sectionName: value.name,\r\n        subSectionId: null,\r\n        subSectionName: '',\r\n      };\r\n    } else {\r\n      data[index] = {\r\n        ...data[index],\r\n        sectionId: null,\r\n        sectionName: '',\r\n        subSectionId: null,\r\n        subSectionName: '',\r\n      };\r\n    }\r\n    setUserDetails({ ...userDetails, organization: [...data] });\r\n  };\r\n  const handleOnSubSectionChange = index => (event, value) => {\r\n    const data = [...organization];\r\n    if (value !== null) {\r\n      data[index] = {\r\n        ...data[index],\r\n        subSectionId: value.id,\r\n        subSectionName: value.name,\r\n      };\r\n    } else {\r\n      data[index] = {\r\n        ...data[index],\r\n        subSectionId: null,\r\n        subSectionName: '',\r\n      };\r\n    }\r\n    setUserDetails({ ...userDetails, organization: [...data] });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUserDetails({\r\n      ...userDetails,\r\n      companyId: currentSubsidiary,\r\n      roleId: null,\r\n      roleName: '',\r\n      organization: [initialOrganization],\r\n    });\r\n    dispatch(fetchRoles(currentSubsidiary));\r\n  }, [currentSubsidiary]);\r\n  return (\r\n    <Box className={classes.root}>\r\n      <Stepper alternativeLabel activeStep={activeStep} connector={<ColorlibConnector />}>\r\n        {steps.map(label => (\r\n          <Step key={label}>\r\n            <StepLabel StepIconComponent={ColorlibStepIcon}>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <Box pt={5} pb={10} pr={10} pl={10}>\r\n        {activeStep === steps.length ? (\r\n          <SuccessPage {...{ classes, handleReset, userDetails, isUpdate }} />\r\n        ) : (\r\n          <Box display={'flex'} flexDirection={'column'}>\r\n            {activeStep === 0 && (\r\n              <>\r\n                <GridContainer>\r\n                  {!isUpdate && (\r\n                    <Grid item md={12} xs={12}>\r\n                      <Box display={'flex'}>\r\n                        <Box flex={'1 0 auto'} />\r\n                        <Button variant={'outlined'} color={'primary'} onClick={e => setOpenDialog(true)}>\r\n                          Import From Active Directory\r\n                        </Button>\r\n                      </Box>\r\n                    </Grid>\r\n                  )}\r\n                  <Grid item md={6} xs={12}>\r\n                    <AppTextInput\r\n                      fullWidth\r\n                      variant=\"outlined\"\r\n                      label=\"First Name\"\r\n                      helperText={userDetails.firstName === '' ? 'First Name is required.' : ''}\r\n                      type=\"text\"\r\n                      value={userDetails.firstName}\r\n                      onChange={e => setUserDetails({ ...userDetails, firstName: e.target.value })}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={6} xs={12}>\r\n                    <AppTextInput\r\n                      fullWidth\r\n                      variant=\"outlined\"\r\n                      label=\"Last Name\"\r\n                      helperText={userDetails.lastName === '' ? 'Last Name is required.' : ''}\r\n                      value={userDetails.lastName}\r\n                      onChange={e => setUserDetails({ ...userDetails, lastName: e.target.value })}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={6} xs={12}>\r\n                    <AppTextInput\r\n                      fullWidth\r\n                      variant=\"outlined\"\r\n                      label=\"Email Address\"\r\n                      helperText={isValidEmail(userDetails.email) ? '' : 'Email is Invalid!'}\r\n                      value={userDetails.email}\r\n                      onChange={e => setUserDetails({ ...userDetails, email: e.target.value, userName: e.target.value })}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={6} xs={12}>\r\n                    <AppTextInput\r\n                      fullWidth\r\n                      variant=\"outlined\"\r\n                      label=\"Phone Number\"\r\n                      value={userDetails.phoneNumber}\r\n                      helperText={userDetails.phoneNumber === '' ? 'Phone number is required.' : ''}\r\n                      onChange={e => setUserDetails({ ...userDetails, phoneNumber: e.target.value })}\r\n                    />\r\n                  </Grid>\r\n                </GridContainer>\r\n              </>\r\n            )}\r\n            {activeStep === 1 && (\r\n              <>\r\n                <GridContainer>\r\n                  <Grid item md={4} xs={12}>\r\n                    <AppTextInput\r\n                      fullWidth\r\n                      variant=\"outlined\"\r\n                      label=\"Staff Number [Optional]\"\r\n                      value={userDetails.staffNumber}\r\n                      onChange={e => setUserDetails({ ...userDetails, staffNumber: e.target.value })}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={4} xs={12}>\r\n                    <Autocomplete\r\n                      fullWidth\r\n                      options={subsidiaries}\r\n                      value={getAutoCompleteValue(subsidiaries, userDetails.companyId)}\r\n                      getOptionLabel={option => option.name}\r\n                      onChange={handleOnSubsidiaryChange}\r\n                      renderOption={(option, { selected }) => <span key={option.id}>{option.name}</span>}\r\n                      renderInput={params => (\r\n                        <TextField required fullWidth {...params} size={'small'} variant={'outlined'} label=\"Subsidiary\" />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item md={4} xs={12}>\r\n                    <Autocomplete\r\n                      fullWidth\r\n                      options={roles}\r\n                      value={getAutoCompleteValue(roles, userDetails.roleId)}\r\n                      getOptionLabel={option => option.name}\r\n                      onChange={handleOnRoleChange}\r\n                      renderOption={(option, { selected }) => <span key={option.id}>{option.name}</span>}\r\n                      renderInput={params => (\r\n                        <TextField fullWidth {...params} size={'small'} variant={'outlined'} label=\"Role\" />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                </GridContainer>\r\n                <Box width={'100%'} mt={5} mb={2} display={'flex'}>\r\n                  <Button\r\n                    onClick={handleAddDepartment}\r\n                    type={'button'}\r\n                    size={'small'}\r\n                    startIcon={<AddCircle />}\r\n                    variant={'outlined'}\r\n                    color={'primary'}>\r\n                    Assign Department\r\n                  </Button>\r\n                </Box>\r\n\r\n                {organization.length !== 0 &&\r\n                  organization.map((org, index) => (\r\n                    <Box key={index} mt={3}>\r\n                      <AddDepartmentForm\r\n                        {...{\r\n                          departments,\r\n                          sections,\r\n                          subSections,\r\n                          organization: org,\r\n                          userDetails,\r\n                          handleOnDepartmentChange,\r\n                          handleOnSectionChange,\r\n                          handleOnSubSectionChange,\r\n                          index,\r\n                          handleRemoveDept,\r\n                        }}\r\n                      />\r\n                    </Box>\r\n                  ))}\r\n              </>\r\n            )}\r\n            {activeStep === 2 && (\r\n              <Box display={'flex'} alignItems={'center'} justifyItems=\"center\">\r\n                <Preview {...{ userDetails }} />\r\n              </Box>\r\n            )}\r\n            <Box display={'flex'} mt={10}>\r\n              <Button disabled={activeStep === 0} onClick={handleBack} className={classes.button}>\r\n                <ArrowBackIos /> Back\r\n              </Button>\r\n              <Box flex={'1 0 auto'} />\r\n              {activeStep === steps.length - 1 ? (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  disabled={!isValid}\r\n                  color=\"primary\"\r\n                  onClick={handleSubmit}\r\n                  className={classes.button}>\r\n                  Finish\r\n                </Button>\r\n              ) : (\r\n                <Button variant=\"contained\" color=\"primary\" onClick={handleNext} className={classes.button}>\r\n                  Next\r\n                </Button>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst AddDepartmentForm = props => {\r\n  const {\r\n    departments,\r\n    sections,\r\n    subSections,\r\n    organization,\r\n    userDetails,\r\n    index,\r\n    handleOnDepartmentChange,\r\n    handleOnSectionChange,\r\n    handleOnSubSectionChange,\r\n    handleRemoveDept,\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <GridContainer>\r\n        <Grid item md={4} xs={12}>\r\n          <Autocomplete\r\n            fullWidth\r\n            id={`department_${index}`}\r\n            options={getFilteredOptions(departments, userDetails, 'companyId')}\r\n            value={getAutoCompleteValue(departments, organization.departmentId)}\r\n            getOptionLabel={option => option.name}\r\n            onChange={handleOnDepartmentChange(index)}\r\n            renderOption={(option, { selected }) => <span key={option.id}>{option.name}</span>}\r\n            renderInput={params => (\r\n              <TextField\r\n                required\r\n                helperText={userDetails.companyId === '' ? 'Select Subsidiary' : ''}\r\n                fullWidth\r\n                {...params}\r\n                size={'small'}\r\n                variant={'outlined'}\r\n                label=\"Department\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n        <Grid item md={3} xs={12}>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={getFilteredOptions(sections, organization, 'departmentId', 'departmentsId')}\r\n            value={getAutoCompleteValue(sections, organization.sectionId)}\r\n            getOptionLabel={option => option.name}\r\n            onChange={handleOnSectionChange(index)}\r\n            renderOption={(option, { selected }) => <span key={option.id}>{option.name}</span>}\r\n            renderInput={params => (\r\n              <TextField\r\n                helperText={organization.departmentId === '' ? 'Select Department' : ''}\r\n                fullWidth\r\n                {...params}\r\n                size={'small'}\r\n                variant={'outlined'}\r\n                label=\"Section\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n        <Grid item md={4} xs={12}>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={getFilteredOptions(subSections, organization, 'sectionId', 'sectionsId')}\r\n            value={getAutoCompleteValue(subSections, organization.subSectionId)}\r\n            getOptionLabel={option => option.name}\r\n            onChange={handleOnSubSectionChange(index)}\r\n            renderOption={(option, { selected }) => <span key={option.id}>{option.name}</span>}\r\n            renderInput={params => (\r\n              <TextField fullWidth {...params} size={'small'} variant={'outlined'} label=\"Sub-Section\" />\r\n            )}\r\n          />\r\n        </Grid>\r\n        <Grid item md={1} xs={12}>\r\n          <IconButton color={'secondary'} onClick={e => handleRemoveDept(index)}>\r\n            <Close fontSize={'small'} />\r\n          </IconButton>\r\n        </Grid>\r\n      </GridContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { HEADER } from '../../../../@jumbo/constants/HeaderMessages';\r\nimport PageContainer from '../../../../@jumbo/components/PageComponents/layouts/PageContainer';\r\nimport UserForm from './UserForm';\r\nimport useStyles from '../../index.style';\r\nimport { Box, Button, Dialog, DialogContent, DialogTitle, Grid, Paper, Slide } from '@material-ui/core';\r\nimport GridContainer from '../../../../@jumbo/components/GridContainer';\r\nimport AppTextInput from '../../../../@jumbo/components/Common/formElements/AppTextInput';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchSubsidiaries } from '../../../../redux/actions/Subsidiaries';\r\nimport { fetchDepartments } from '../../../../redux/actions/Departments';\r\nimport { fetchSections } from '../../../../redux/actions/Sections';\r\nimport { fetchRoles } from '../../../../redux/actions/Roles';\r\nimport { fetchSubSections } from '../../../../redux/actions/SubSections';\r\n\r\nconst Transition = React.forwardRef((props, ref) => {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\nconst AddEditUser = () => {\r\n  const classes = useStyles();\r\n  const initialBreadcrumbs = [\r\n    { label: HEADER.DASHBOARD, link: '/' },\r\n    { label: HEADER.USERS, link: '/users' },\r\n  ];\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [breadcrumbs, setBreadcrumbs] = useState(initialBreadcrumbs);\r\n  const initialState = {\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    userName: '',\r\n    password: '12345678',\r\n    companyId: '',\r\n    companyName: '',\r\n    organization: [\r\n      {\r\n        departmentId: null,\r\n        departmentName: '',\r\n        sectionId: null,\r\n        sectionName: '',\r\n        subSectionId: null,\r\n        subSectionName: '',\r\n      },\r\n    ],\r\n    confirmPassword: '12345678',\r\n    phoneNumber: '',\r\n    staffNumber: '',\r\n    ext_Number: '',\r\n    roleId: null,\r\n    roleName: '',\r\n  };\r\n  const [isUpdate, setIsUpdate] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { subsidiaries, currentSubsidiary } = useSelector(({ subsidiaries }) => subsidiaries);\r\n  const { filteredDepartments } = useSelector(({ departments }) => departments);\r\n  const { filteredSections } = useSelector(({ sections }) => sections);\r\n  const { filteredSubSections } = useSelector(({ subSections }) => subSections);\r\n  const { rolesList } = useSelector(({ roles }) => roles);\r\n  const [userDetails, setUserDetails] = useState(initialState);\r\n  const location = useLocation();\r\n\r\n  function checkErrors() {\r\n    const { firstName, lastName, email, phoneNo, companyId } = userDetails;\r\n    if (firstName !== '' && lastName !== '' && email !== '' && phoneNo !== '' && companyId !== '') {\r\n      setIsValid(true);\r\n    } else {\r\n      setIsValid(false);\r\n    }\r\n  }\r\n  const onCloseDialog = () => {\r\n    setOpenDialog(false);\r\n  };\r\n  const handleOnSearchUsername = () => {\r\n    console.log(username);\r\n  };\r\n  useEffect(() => {\r\n    if (location.state !== undefined) {\r\n      setBreadcrumbs([...breadcrumbs, { label: HEADER.EDIT_USER, isActive: true }]);\r\n      setUserDetails(location.state);\r\n      dispatch(fetchRoles(location.state?.companyId));\r\n      setIsUpdate(true);\r\n    } else {\r\n      setBreadcrumbs([...breadcrumbs, { label: HEADER.CREATE_USER, isActive: true }]);\r\n      setUserDetails(initialState);\r\n      setIsUpdate(false);\r\n      dispatch(fetchRoles('All'));\r\n    }\r\n  }, [location]);\r\n  useEffect(() => {\r\n    checkErrors();\r\n  }, [userDetails]);\r\n  useEffect(() => {\r\n    dispatch(fetchSubsidiaries());\r\n    dispatch(fetchDepartments());\r\n    dispatch(fetchSections());\r\n    dispatch(fetchSubSections());\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PageContainer heading={isUpdate ? HEADER.EDIT_USER : HEADER.CREATE_USER} breadcrumbs={breadcrumbs}>\r\n        <div className={classes.root}>\r\n          <Paper className={classes.paper}>\r\n            <UserForm\r\n              {...{\r\n                initialState,\r\n                userDetails,\r\n                isUpdate,\r\n                isValid,\r\n                setIsValid,\r\n                setUserDetails,\r\n                departments: filteredDepartments,\r\n                subsidiaries,\r\n                sections: filteredSections,\r\n                subSections: filteredSubSections,\r\n                roles: rolesList,\r\n                setOpenDialog,\r\n              }}\r\n            />\r\n          </Paper>\r\n        </div>\r\n      </PageContainer>\r\n      <ADDialog {...{ openDialog, onCloseDialog, username, setUsername, handleOnSearchUsername }} />\r\n    </React.Fragment>\r\n  );\r\n};\r\nconst ADDialog = props => {\r\n  const { openDialog, onCloseDialog, username, setUsername, handleOnSearchUsername } = props;\r\n  const useStyles = makeStyles(theme => ({\r\n    dialogRoot: {\r\n      position: 'relative',\r\n    },\r\n    dialogHeader: {\r\n      backgroundColor: theme.palette.primary.main,\r\n    },\r\n    dialogTitleRoot: {\r\n      '& .MuiTypography-h6': {\r\n        fontSize: 16,\r\n        color: theme.palette.common.white,\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <Dialog open={openDialog} onClose={onCloseDialog} TransitionComponent={Transition} className={classes.dialogRoot}>\r\n      <div className={classes.dialogHeader}>\r\n        <DialogTitle className={classes.dialogTitleRoot}>Import from Active Directory</DialogTitle>\r\n      </div>\r\n      <DialogContent style={{ marginTop: 10 }}>\r\n        <Box sx={{ width: 400 }}>\r\n          <GridContainer style={{ marginBottom: 12 }}>\r\n            <Grid item xs={12} sm={12}>\r\n              <AppTextInput\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                label=\"Username\"\r\n                value={username}\r\n                onChange={e => setUsername(e.target.value)}\r\n              />\r\n            </Grid>\r\n          </GridContainer>\r\n        </Box>\r\n\r\n        <Box display=\"flex\" justifyContent=\"flex-end\" mb={4}>\r\n          <Button onClick={onCloseDialog} size=\"small\">\r\n            Cancel\r\n          </Button>\r\n          <Box ml={2}>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={handleOnSearchUsername}>\r\n              Search\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddEditUser;\r\n"],"sourceRoot":""}